/*! Thrive Architect - 2022-01-25
* http://www.thrivethemes.com/
* Copyright (c) 2022 Thrive Themes */

"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(u){var d,p,r,h,v,o={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return h=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},v=function(t,e,n){var i,r;if("function"==typeof t[e+n])return e+n;for(i=0;r=o[n][i];++i)if("function"==typeof t[e+r])return e+r;return null},d=function(t,e,n,i,r,o){var a,s,u,l,c,f;for("."!==(a=(n=n.split("/")).pop())&&".."!==a||(n.push(a),a="");null!=(s=n.shift());)if(s&&"."!==s&&(".."===s?(t=e.pop(),o=o.slice(0,o.lastIndexOf("/"))):(e.push(t),t=t[s],o+="/"+s),!t))throw h(i);if(a&&"function"!=typeof t[a]&&((f=(f=(f=(f=v(t,a,".js"))||v(t,a,".json"))||v(t,a,".css"))||v(t,a,".html"))?a=f:2!==r&&"object"===_typeof(t[a])&&(e.push(t),t=t[a],o+="/"+a,a="")),!a)return 1!==r&&t[":mainpath:"]?d(t,e,t[":mainpath:"],i,1,o):d(t,e,"index",i,2,o);if(!(c=t[a]))throw h(i);return c.hasOwnProperty("module")?c.module.exports:(u={},c.module=l={exports:u,id:o+"/"+a},c.call(u,u,l,p(t,e,o)),l.exports)},r=function(t,e,n,i){var r,o=n,a=n.charAt(0),s=0;if("/"===a){if(o=o.slice(1),!(t=u["/"])){if(l)return l(n);throw h(n)}i="/",e=[]}else if("."!==a){if(r=o.split("/",1)[0],!(t=u[r])){if(l)return l(n);throw h(n)}i=r,e=[],(o=o.slice(r.length+1))||(s=(o=t[":mainpath:"])?1:(o="index",2))}return d(t,e,o,n,s,i)},(p=function(e,n,i){return function(t){return r(e,[].concat(n),t,i)}})(u,[],"")}({workspace:{editor:{js:{frontend:{modules:{"contact-form-compat":{"form-handler.js":function(t,e,n){var i=n("./form-validator");e.exports=function(t,e,n){this.default_response={success:!0,data:{errors:["Something went wrong. Please try again later!"]}},this.$form=t,this.config=e,this.isZapier=n,this.validator=new i(this.$form,e),this.fail=function(){TCB_Front.Utils.toast(this.default_response.data.errors[0],!0)},this.done=function(t){var e=ThriveGlobal.$j.extend({},this.default_response,t);"function"!=typeof this[this.config.submit.action+"_action"]||this.isZapier||this[this.config.submit.action+"_action"](e),n&&this.notification_action(e),this.$form[0].reset()},this.notification_action=function(t){TCB_Front.Utils.toast(!0===t.success?this.config.submit.notification:t.data.errors[0],!t.success,ThriveGlobal.$j.proxy(function(){this.$form.find("button").removeAttr("disabled"),this.$form.find(".tve-form-button").removeClass("tar-disabled"),this.try_close_parent()},this))},this.redirect_action=function(t){if(!0===t.success)return window.location=this.config.submit.url},this.reload_action=function(t){window.location.reload()},this.try_close_parent=function(){this.$form.closest(".tve-leads-conversion-object, .tve_p_lb_inner, .tve-ult-design").find(".tve_ea_thrive_leads_form_close, .tve_ea_close_lightbox, .tve-ult-bar-close").trigger("click")}}},"form-validator.js":function(t,e,n){var a=n("./invalid-items");e.exports=function(e,t){var i=ThriveGlobal.$j.extend({},t.error_messages||{}),r=new a;function o(t){return"required"===t.getAttribute("required")}this.validate_text_field=function(t){var e=t.value.trim(),n=!0;return o(t)&&e.length<=0&&(n=!1,r.add({input:t,error:i.required})),n},this.validate_email_field=function(t){var e=t.value.trim(),n=!0;return o(t)&&e.length<=0&&(n=!1,r.add({input:t,error:i.required})),n&&0<e.length&&!function(t){return TCB_Front.Utils.isEmail(t)}(e)&&(n=!1,r.add({input:t,error:i.email})),n},this.validate_textarea_field=function(t){var e=t.value.trim(),n=!0;return"g-recaptcha-response"===t.name?this.validate_recaptcha(t):(o(t)&&e.length<=0&&(n=!1,r.add({input:t,error:i.required})),n)},this.validate_recaptcha=function(t){var e=!0;return t.value.trim().length<=0&&(e=!1,r.add({input:t,error:i.required})),e},this.validate_tel_field=function(t){var e=!0,n=t.value.trim();return o(t)&&n.length<=0&&(e=!1,r.add({input:t,error:i.required})),e&&0<n.length&&!function(t){return t.match(/^[+]?[0-9\(\)/ -]*$/)&&t.length<=15}(n)&&(e=!1,r.add({input:t,error:i.phone})),e},this.validate_url_field=function(t){var e=!0,n=t.value.trim();return o(t)&&n.length<=0&&(e=!1,r.add({input:t,error:i.required})),e&&0<n.length&&!function(t){return!!(t=TCB_Front.Utils.addHttp(t)).match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&=]*)/g)}(n)&&(e=!1,r.add({input:t,error:i.url})),e},this.validation_exists=function(t){return"function"==typeof this[t]},this.is_field_valid=function(t){var e=!0,n="validate_"+t.type+"_field";if(this.validation_exists(n))try{e=this[n](t)}catch(t){console.error(t),e=!1}return e},this.is_valid=function(){var t=this;return e.find("input, select, textarea").each(function(){t.is_field_valid(this)}),0===r.length},this.display_errors=function(){r.display_errors()}}},"invalid-items.js":function(t,e,n){var i="tcb-cf-error";e.exports=function(){var e=[];this.length=0,this.add=function(t){if(!(t.input&&t.input instanceof HTMLElement&&t.error))throw new Error("Invalid item to be pushed into invalid items");e.push(t),this.length++},this.display_errors=function(){e.forEach(function(t){t.input.classList.contains(i)&&t.input.nextSibling.remove(),t.input.classList.add(i);var e=document.createElement("span");e.classList.add(i),e.innerText=t.error,t.input.parentElement.classList.remove("tcb-permanently-hidden"),t.input.parentElement.previousElementSibling.classList.remove("tcb-permanently-hidden"),ThriveGlobal.$j(t.input).after(e)})}}},"main.js":function(t,e,n){var c,f,i,r;c=ThriveGlobal.$j,f=n("./form-handler"),i="tcb-cf-error",r=function(){function l(t){_classCallCheck(this,l),this.bindEvents(t.find("form").first())}return _createClass(l,[{key:"bindEvents",value:function(e){if(e.is("form")){e.find(".tve-cf-submit .thrv_icon").on("click",function(){e.find("button").trigger("click")}),e.find(".tve-form-button .tve-form-button-submit").on("click",function(t){return t.preventDefault(),t.stopPropagation(),e.submit(),!1}),e.off("submit").on("submit",this.onSubmit);e.find(['input[type="text"]','input[type="email"]','input[type="tel"]','input[type="url"]',"textarea"].join(",")).on("input",this.onInput).on("focus",this.onFocus).on("blur",this.onBlur)}}},{key:"onSubmit",value:function(t){t.stopPropagation(),t.preventDefault();var e=c(this),n=e.find('input[name="config"]').val();if(!n)return!1;var i=l.decodeAndUnserialize(n),r=e.find("#__tcb_cf_conn"),o=r.length&&"zapier"===TCB_Front.Base64.decode(r.val()),a=new f(e,i,o);try{if(!a.validator.is_valid())return console.log("form invalid"),a.validator.display_errors(),!1;console.log("valid form; continue by sending ajax")}catch(t){console.error(t)}e.find("button").attr("disabled","disabled"),e.find(".tve-form-button").addClass("tar-disabled");var s=e.serializeArray(),u="object"===("undefined"==typeof tve_frontend_options?"undefined":_typeof(tve_frontend_options))?tve_frontend_options.post_id:0;return s.push({name:"action",value:"tve_cf_submit"}),s.push({name:"post_id",value:u}),s.push({name:"security",value:JSON.stringify({check:1,has_recaptcha:e.find(".g-recaptcha").length})}),ThriveGlobal.$j.ajax({type:"post",xhrFields:{withCredentials:!0},url:tve_frontend_options.ajaxurl,data:s}).fail(ThriveGlobal.$j.proxy(a.fail,a)).done(ThriveGlobal.$j.proxy(a.done,a)),!0}},{key:"onInput",value:function(t){var e=t.currentTarget;e.classList.contains(i)&&(e.nextSibling.remove(),e.classList.remove(i))}},{key:"onFocus",value:function(){this.placeholder=""}},{key:"onBlur",value:function(){this.placeholder=this.getAttribute("data-placeholder")}}],[{key:"decodeAndUnserialize",value:function(t){var e=TCB_Front.Base64.decode(t);return TCB_Front.Utils.unserialize(e)}}]),l}(),e.exports=r}},"contact-form-compat.js":function(t,e,r){void 0===TCB_Front.js_modules["contact-form-compat"]&&TCB_Front.setModuleLoadedStatus("contact-form-compat",!1),function(n){if(!TCB_Front.isModuleLoaded("contact-form-compat")){var i=r("./contact-form-compat/main");n(window).on("tcb_after_dom_ready",function(){TCB_Front.Utils.isEditorPage()||n(".thrv-contact-form").each(function(t,e){new i(n(e))})}),TCB_Front.setModuleLoadedStatus("contact-form-compat",!0)}}(ThriveGlobal.$j)}}}}}}})("workspace/editor/js/frontend/modules/contact-form-compat");